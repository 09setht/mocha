<!DOCTYPE html><html><head><title>Mocha - API documentation</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><link rel="stylesheet" href="style.css"><script src="jquery.js"></script><script src="docs.js"></script></head><body><div id="content"><h1>Mocha</h1><div id="exports.create" class="comment"><h2>exports.create()</h2><div class="description"><p>Create a new <code>Suite</code> with the given <code>title</code><br />and parent <code>Suite</code>. When a suite with the<br />same title is already present, that suite<br />is returned to provide nicer reporter<br />and more flexible meta-testing.</p></div><h3>Source</h3><pre><code>exports.create = function(parent, title){
  var suite = new Suite(title, parent.ctx);
  suite.parent = parent;
  title = suite.fullTitle();
  parent.addSuite(suite);
  return suite;
};</code></pre></div><div id="Suite" class="comment"><h2>Suite()</h2><div class="description"><p>Initialize a new <code>Suite</code> with the given<br /><code>title</code> and <code>ctx</code>.</p></div><h3>Source</h3><pre><code>function Suite(title, ctx) {
  this.title = title;
  this.ctx = ctx;
  this.suites = [];
  this.tests = [];
  this._beforeEach = [];
  this._beforeAll = [];
  this._afterEach = [];
  this._afterAll = [];
  this.root = !title;
  this._timeout = 2000;
  this._bail = false;
}</code></pre></div><div id="Suite.prototype.clone" class="comment"><h2>Suite#clone()</h2><div class="description"><p>Return a clone of this <code>Suite</code>.</p></div><h3>Source</h3><pre><code>Suite.prototype.clone = function(){
  var suite = new Suite(this.title);
  debug('clone');
  suite.ctx = this.ctx;
  suite.timeout(this.timeout());
  suite.bail(this.bail());
  return suite;
};</code></pre></div><div id="Suite.prototype.timeout" class="comment"><h2>Suite#timeout()</h2><div class="description"><p>Set timeout <code>ms</code> or short-hand such as "2s".</p></div><h3>Source</h3><pre><code>Suite.prototype.timeout = function(ms){
  if (0 == arguments.length) return this._timeout;
  if (String(ms).match(/s$/)) ms = parseFloat(ms) * 1000;
  debug('timeout %d', ms);
  this._timeout = parseInt(ms, 10);
  return this;
};</code></pre></div><div id="Suite.prototype.bail" class="comment"><h2>Suite#bail()</h2><div class="description"><p>Sets whether to bail after first error.</p></div><h3>Source</h3><pre><code>Suite.prototype.bail = function(bail){
  if (0 == arguments.length) return this._bail;
  debug('bail %s', bail);
  this._bail = bail;
  return this;
};</code></pre></div><div id="Suite.prototype.beforeAll" class="comment"><h2>Suite#beforeAll()</h2><div class="description"><p>Run <code>fn(test[, done])</code> before running tests.</p></div><h3>Source</h3><pre><code>Suite.prototype.beforeAll = function(fn){
  var hook = new Hook('"before all" hook', fn);
  hook.parent = this;
  hook.timeout(this.timeout());
  hook.ctx = this.ctx;
  this._beforeAll.push(hook);
  this.emit('beforeAll', hook);
  return this;
};</code></pre></div><div id="Suite.prototype.afterAll" class="comment"><h2>Suite#afterAll()</h2><div class="description"><p>Run <code>fn(test[, done])</code> after running tests.</p></div><h3>Source</h3><pre><code>Suite.prototype.afterAll = function(fn){
  var hook = new Hook('"after all" hook', fn);
  hook.parent = this;
  hook.timeout(this.timeout());
  hook.ctx = this.ctx;
  this._afterAll.push(hook);
  this.emit('afterAll', hook);
  return this;
};</code></pre></div><div id="Suite.prototype.beforeEach" class="comment"><h2>Suite#beforeEach()</h2><div class="description"><p>Run <code>fn(test[, done])</code> before each test case.</p></div><h3>Source</h3><pre><code>Suite.prototype.beforeEach = function(fn){
  var hook = new Hook('"before each" hook', fn);
  hook.parent = this;
  hook.timeout(this.timeout());
  hook.ctx = this.ctx;
  this._beforeEach.push(hook);
  this.emit('beforeEach', hook);
  return this;
};</code></pre></div><div id="Suite.prototype.afterEach" class="comment"><h2>Suite#afterEach()</h2><div class="description"><p>Run <code>fn(test[, done])</code> after each test case.</p></div><h3>Source</h3><pre><code>Suite.prototype.afterEach = function(fn){
  var hook = new Hook('"after each" hook', fn);
  hook.parent = this;
  hook.timeout(this.timeout());
  hook.ctx = this.ctx;
  this._afterEach.push(hook);
  this.emit('afterEach', hook);
  return this;
};</code></pre></div><div id="Suite.prototype.addSuite" class="comment"><h2>Suite#addSuite()</h2><div class="description"><p>Add a test <code>suite</code>.</p></div><h3>Source</h3><pre><code>Suite.prototype.addSuite = function(suite){
  suite.parent = this;
  suite.timeout(this.timeout());
  suite.bail(this.bail());
  this.suites.push(suite);
  this.emit('suite', suite);
  return this;
};</code></pre></div><div id="Suite.prototype.addTest" class="comment"><h2>Suite#addTest()</h2><div class="description"><p>Add a <code>test</code> to this suite.</p></div><h3>Source</h3><pre><code>Suite.prototype.addTest = function(test){
  test.parent = this;
  test.timeout(this.timeout());
  test.ctx = this.ctx;
  this.tests.push(test);
  this.emit('test', test);
  return this;
};</code></pre></div><div id="Suite.prototype.fullTitle" class="comment"><h2>Suite#fullTitle()</h2><div class="description"><p>Return the full title generated by recursively<br />concatenating the parent's full title.</p></div><h3>Source</h3><pre><code>Suite.prototype.fullTitle = function(){
  if (this.parent) {
    var full = this.parent.fullTitle();
    if (full) return full + ' ' + this.title;
  }
  return this.title;
};</code></pre></div><div id="Suite.prototype.total" class="comment"><h2>Suite#total()</h2><div class="description"><p>Return the total number of tests.</p></div><h3>Source</h3><pre><code>Suite.prototype.total = function(){
  return utils.reduce(this.suites, function(sum, suite){
    return sum + suite.total();
  }, 0) + this.tests.length;
};</code></pre></div></div><ul id="menu"><li><a href="#exports.create">exports.create()</a></li><li><a href="#Suite">Suite()</a></li><li><a href="#Suite.prototype.clone">Suite#clone()</a></li><li><a href="#Suite.prototype.timeout">Suite#timeout()</a></li><li><a href="#Suite.prototype.bail">Suite#bail()</a></li><li><a href="#Suite.prototype.beforeAll">Suite#beforeAll()</a></li><li><a href="#Suite.prototype.afterAll">Suite#afterAll()</a></li><li><a href="#Suite.prototype.beforeEach">Suite#beforeEach()</a></li><li><a href="#Suite.prototype.afterEach">Suite#afterEach()</a></li><li><a href="#Suite.prototype.addSuite">Suite#addSuite()</a></li><li><a href="#Suite.prototype.addTest">Suite#addTest()</a></li><li><a href="#Suite.prototype.fullTitle">Suite#fullTitle()</a></li><li><a href="#Suite.prototype.total">Suite#total()</a></li></ul></body></html>